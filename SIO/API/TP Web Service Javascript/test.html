<html>
    <head>

    </head>
    <body>
        
        <h1>TP JS WS</h1>

        <script>

            var listeGhibliTexte = "";
            var listeGhibliObject ;

            // 1. Create a new XMLHttpRequest object
            var xhr = new XMLHttpRequest();

            // 2. Configure it: GET-request for the URL /article/.../load
            xhr.open('GET', 'https://ghibli.rest/films');

            // 3. Send the request over the network
            xhr.send();

            // 4. This will be called after the response is received
            xhr.onload = function() {
                if (xhr.status != 200) { // analyze HTTP status of the response
                    console.log("erreur");
                } else { // show the result
                    console.log("chargement ok");
                    listeGhibliTexte = xhr.response;
                    listeGhibliObject = JSON.parse(xhr.response);

                    for (const element of listeGhibliObject) {
                        console.log(element.title);
                    }
                    
                }
            };



           
          

        </script>


    </body>
</html>